require:
  - 'rubocop-rails'
  - 'rubocop-rspec'
  - 'rubocop-performance'

AllCops:
  TargetRubyVersion: 2.6
  Exclude:
    - 'db/schema.rb'
    - 'bin/*'
    - 'vendor/*'

Layout/ArgumentAlignment:
  EnforcedStyle: with_fixed_indentation

Layout/CaseIndentation:
  EnforcedStyle: end

Layout/ClassStructure:
  Enabled: true
  Categories:
    module_inclusion:
      - prepend
      - extend
      - include
    enums:
      - enum
    attributes:
      - attribute
      - attr_reader
      - attr_writer
      - attr_accessor
    associations:
      - has_one
      - has_many
      - belongs_to
      - has_and_belongs_to_many
    validations:
      - validates
      - validate
    hooks:
      - after_initialize
      - before_validation
      - after_validation
      - before_save
      - around_save
      - before_create
      - before_update
      - before_destroy
      - around_create
      - around_update
      - around_destroy
      - after_create
      - after_update
      - after_destroy
      - after_save
      - after_commit
      - after_rollback
  ExpectedOrder:
      - module_inclusion
      - constants
      - enums
      - attributes
      - associations
      - validations
      - hooks
      - public_class_methods
      - initializer
      - public_methods
      - protected_methods
      - private_methods

Layout/DefEndAlignment:
  AutoCorrect: true

Layout/EndAlignment:
  EnforcedStyleAlignWith: variable
  AutoCorrect: true

Layout/EndOfLine:
  EnforcedStyle: lf

Layout/ExtraSpacing:
  AllowForAlignment: false

Layout/FirstArrayElementIndentation:
  EnforcedStyle: consistent

Layout/FirstHashElementIndentation:
  EnforcedStyle: consistent

Layout/HeredocArgumentClosingParenthesis:
  Enabled: true

Layout/LineLength:
  Max: 103 # my iPad's viewport width
  Exclude:
    - 'spec/**/*.rb'

Layout/MultilineAssignmentLayout:
  Enabled: true
  EnforcedStyle: same_line

Layout/MultilineHashKeyLineBreaks:
  Enabled: true

Layout/MultilineMethodCallIndentation:
  EnforcedStyle: indented

Layout/MultilineMethodDefinitionBraceLayout:
  EnforcedStyle: same_line

Layout/ParameterAlignment:
  EnforcedStyle: with_fixed_indentation

Lint/AssignmentInCondition:
  AllowSafeAssignment: false

Lint/HeredocMethodCallPosition:
  Enabled: true

Lint/NonDeterministicRequireOrder:
  Enabled: false

Lint/UnusedBlockArgument:
  IgnoreEmptyBlocks: false

Lint/UnusedMethodArgument:
  IgnoreEmptyMethods: false

Metrics/AbcSize:
  Exclude:
    - 'db/migrate/*.rb'

Metrics/BlockLength:
  ExcludedMethods:
    - 'namespace'
  Exclude:
    - 'spec/**/*.rb'
    - 'db/migrate/*.rb'


Metrics/MethodLength:
  Exclude:
    - 'db/migrate/*.rb'

Metrics/ModuleLength:
  Exclude:
    - 'spec/**/*.rb'

Naming/BlockParameterName:
  AllowNamesEndingInNumbers: false

Naming/MemoizedInstanceVariableName:
  EnforcedStyleForLeadingUnderscores: required

Naming/MethodParameterName:
  AllowNamesEndingInNumbers: false

Naming/VariableNumber:
  EnforcedStyle: non_integer

Style/AndOr:
  EnforcedStyle: conditionals

Style/AutoResourceCleanup:
  Enabled: true

Style/ClassAndModuleChildren:
  Enabled: false

Style/CollectionMethods:
  Enabled: true

Style/DateTime:
  Enabled: true

Style/Documentation:
  Enabled: false

Style/EmptyElse:
  EnforcedStyle: empty

Style/FloatDivision:
  EnforcedStyle: fdiv

Style/FormatStringToken:
  EnforcedStyle: unannotated

Style/FrozenStringLiteralComment:
  Enabled: false

Style/ImplicitRuntimeError:
  Enabled: true

Style/IpAddresses:
  Enabled: true
  Exclude:
    - 'spec/**/*.rb'

Style/MethodCallWithArgsParentheses:
  Enabled: false
  AllowParenthesesInMultilineCall: true
  AllowParenthesesInChaining: true
  AllowParenthesesInCamelCaseMethod: true

Style/MethodCalledOnDoEndBlock:
  Enabled: true

Style/MixinGrouping:
  EnforcedStyle: grouped

Style/MultilineMethodSignature:
  Enabled: true

Style/OptionHash:
  Enabled: true

Style/RescueStandardError:
  EnforcedStyle: implicit

Style/Send:
  Enabled: true

Style/StringMethods:
  Enabled: true

Bundler/OrderedGems:
  Enabled: false

Rails/FilePath:
  EnforcedStyle: arguments

Rails/SafeNavigation:
  ConvertTry: true

Rails/SaveBang:
  Enabled: true
  AllowImplicitReturn: false

Rails/SkipsModelValidations:
  Exclude:
    - 'spec/**/*_spec.rb'
    - 'spec/**/*_examples.rb'

RSpec/ExampleLength:
  Enabled: false

RSpec/ExpectInHook:
  Enabled: false

RSpec/ImplicitSubject:
  EnforcedStyle: single_statement_only

RSpec/LetSetup:
  Enabled: false

RSpec/MessageExpectation:
  Enabled: true
  EnforcedStyle: expect

RSpec/MessageSpies:
  EnforcedStyle: receive

RSpec/NestedGroups:
  Max: 5
